- [什么是 Hooks](#什么是-hooks)
- [什么是函数副作用](#什么是函数副作用)
    - [常见的副作用示例](#常见的副作用示例)
    - [函数无副作用的例子](#函数无副作用的例子)
    - [为什么减少副作用很重要？](#为什么减少副作用很重要)
---

# 什么是 Hooks
在React中，Hooks就是把某个目标结果钩到某个可能会变化的数据源或事件源上，那么当被钩到的数据或事件发生变化时，产生这个目标结果的代码会重新执行，产生更新后的结果。

# 什么是函数副作用
在编程中，**函数副作用（Side Effect）**是指函数在执行过程中，除了返回值之外，还对外部状态产生了影响。副作用可能包括修改外部变量、输出内容、操作文件、发送网络请求等。函数副作用通常会影响程序的可预测性和可测试性，因此在某些编程范式（如函数式编程）中，减少或避免副作用是重要的设计目标。

### 常见的副作用示例
1. **修改全局变量或外部变量**：
   ```python
   x = 10

   def add_to_x(value):
       global x
       x += value  # 修改了全局变量 x

   add_to_x(5)
   print(x)  # 输出 15
   ```
   修改了全局变量 `x`，这就是一个副作用。

2. **输出到控制台**：
   ```python
   def greet(name):
       print(f"Hello, {name}!")  # 输出到控制台是副作用
   ```
   调用 `greet("Alice")` 会在控制台输出内容。

3. **修改函数参数（可变对象）**：
   ```python
   def append_to_list(lst, item):
       lst.append(item)  # 修改了传入的列表

   my_list = [1, 2, 3]
   append_to_list(my_list, 4)
   print(my_list)  # 输出 [1, 2, 3, 4]
   ```
   这里 `my_list` 被函数内部的操作改变了。

4. **文件操作**：
   ```python
   def write_to_file(filename, content):
       with open(filename, "w") as f:
           f.write(content)  # 文件写操作是副作用
   ```

5. **网络请求**：
   ```python
   import requests

   def fetch_data(url):
       response = requests.get(url)  # 网络请求是副作用
       return response.json()
   ```

### 函数无副作用的例子
一个无副作用的函数只依赖于输入，并且不会改变外部状态。例如：
```python
def add(a, b):
    return a + b  # 只返回计算结果，没有副作用
```

### 为什么减少副作用很重要？
- **可预测性**：无副作用的函数总是对相同的输入返回相同的输出，便于推理。
- **易测试性**：无副作用的函数不依赖外部状态，因此测试时无需设置复杂的环境。
- **可复用性**：无副作用的函数更容易在不同场景中复用。

在某些编程范式（如函数式编程）中，避免副作用是核心原则，而在其他范式中，虽然副作用不可完全避免，但应该尽量将副作用控制在明确的范围内。